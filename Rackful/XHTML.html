<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Rackful::XHTML
  
    &mdash; EPIC
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (X)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Rackful.html" title="Rackful (module)">Rackful</a></span></span>
     &raquo; 
    <span class="title">XHTML</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Rackful::XHTML
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Serializer.html" title="Rackful::Serializer (class)">Serializer</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Serializer.html" title="Rackful::Serializer (class)">Serializer</a></span></li>
          
            <li class="next">Rackful::XHTML</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">gems/rackful-0.1.1/lib/rackful_serializer.rb<span class="defines">,<br />
  gems/rackful-0.1.1.orig/lib/rackful_serializer.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="../EPIC/Handle/XHTML.html" title="EPIC::Handle::XHTML (class)">EPIC::Handle::XHTML</a></span>, <span class='object_link'><a href="../EPIC/XHTML.html" title="EPIC::XHTML (class)">EPIC::XHTML</a></span>, <span class='object_link'><a href="HTTPStatus/XHTML.html" title="Rackful::HTTPStatus::XHTML (class)">HTTPStatus::XHTML</a></span></p>
</div>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="CONTENT_TYPES-constant" class="">CONTENT_TYPES =
          <div class="docstring">
  <div class="discussion">
    <p>
The content types served by this serializer.
</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Serializer::CONTENT_TYPES</li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/xhtml+xml; charset=UTF-8</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>text/html; charset=UTF-8</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>text/xml; charset=UTF-8</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/xml; charset=UTF-8</span><span class='tstring_end'>'</span></span>
<span class='rbracket'>]</span></pre></dd>
      
    </dl>
  






  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Serializer.html" title="Rackful::Serializer (class)">Serializer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Serializer.html#content_type-instance_method" title="Rackful::Serializer#content_type (method)">#content_type</a></span>, <span class='object_link'><a href="Serializer.html#resource-instance_method" title="Rackful::Serializer#resource (method)">#resource</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (void) <strong>each</strong> {|&lt;&lt;EOS &lt;!DOCTYPE html&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt; &lt;head&gt; EOS| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_nested-instance_method" title="#each_nested (instance method)">- (void) <strong>each_nested</strong>(p = self.resource.to_rackful, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Serialize almost any kind of Ruby object to XHTML.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#footer-instance_method" title="#footer (instance method)">- (void) <strong>footer</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Look at the source code!.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#header-instance_method" title="#header (instance method)">- (void) <strong>header</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Look at the source code!.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#htmlify-instance_method" title="#htmlify (instance method)">- (String) <strong>htmlify</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Turns a relative URI (starting with `/`) into a relative path (starting
with `./`).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xsd_type-instance_method" title="#xsd_type (instance method)">- (void) <strong>xsd_type</strong>(v) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Serializer.html" title="Rackful::Serializer (class)">Serializer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Serializer.html#initialize-instance_method" title="Rackful::Serializer#initialize (method)">#initialize</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="Serializer.html#initialize-instance_method" title="Rackful::Serializer#initialize (method)">Rackful::Serializer</a></span></p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="each-instance_method">
  
    - (<tt>void</tt>) <strong>each</strong> {|&lt;&lt;EOS
&lt;!DOCTYPE html&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;
&lt;head&gt;
EOS| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>&lt;&lt;EOS
&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
&lt;head&gt;
EOS</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gems/rackful-0.1.1/lib/rackful_serializer.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Request</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
  <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>xml</span><span class='regexp_end'>/</span></span> <span class='op'>===</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span>
    <span class='kw'>yield</span> <span class='heredoc_beg'>&lt;&lt;EOS</span>
<span class='tstring_content'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span class='heredoc_end'>EOS
</span>  <span class='kw'>end</span>
  <span class='kw'>yield</span> <span class='heredoc_beg'>&lt;&lt;EOS</span>
<span class='tstring_content'>&lt;!DOCTYPE html&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;
&lt;head&gt;
</span><span class='heredoc_end'>EOS
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_content_path'>content_path</span>
    <span class='kw'>yield</span> <span class='heredoc_beg'>&lt;&lt;EOS</span>
<span class='tstring_content'>&lt;base href=&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_base_path'>base_path</span><span class='rbrace'>}</span><span class='tstring_content'>&quot;/&gt;
</span><span class='heredoc_end'>EOS
</span>  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span> <span class='op'>==</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='kw'>yield</span> <span class='heredoc_beg'>&lt;&lt;EOS</span>
<span class='tstring_content'>&lt;link rel=&quot;contents&quot; href=&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_path'>to_path</span><span class='period'>.</span><span class='id identifier rubyid_slashify'>slashify</span><span class='rbrace'>}</span><span class='tstring_content'>&quot;/&gt;
</span><span class='heredoc_end'>EOS
</span>  <span class='kw'>end</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_header'>header</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;div id=&quot;rackful_content&quot;&gt;</span><span class='tstring_end'>'</span></span>
  <span class='id identifier rubyid_each_nested'>each_nested</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/div&gt;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_footer'>footer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_nested-instance_method">
  
    - (<tt>void</tt>) <strong>each_nested</strong>(p = self.resource.to_rackful, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
Serialize almost any kind of Ruby object to XHTML.
</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gems/rackful-0.1.1/lib/rackful_serializer.rb', line 135</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_to_rackful'>to_rackful</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='comment'># p = (args.size &gt; 0) ? args[0] : self.resource.to_rackful
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Path</span> <span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a href=\&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_htmlify'>htmlify</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_escape_html'>escape_html</span><span class='lparen'>(</span> <span class='const'>File</span><span class='op'>::</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_unslashify'>unslashify</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_path'>to_path</span><span class='period'>.</span><span class='id identifier rubyid_unescape'>unescape</span> <span class='rparen'>)</span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/a&gt;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Resource</span> <span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_resource'>resource</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_serializer'>serializer</span><span class='lparen'>(</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='comment'># elsif p.kind_of?( Hash )
</span>    <span class='comment'># yield '&lt;dl class=&quot;rackful_object&quot;&gt;'
</span>    <span class='comment'># p.each_pair do
</span>      <span class='comment'># |key, value|
</span>      <span class='comment'># yield '&lt;dt&gt;' + key.to_s.split('_').join(' ').escape_html +
</span>        <span class='comment'># &quot;&lt;/dt&gt;&lt;dd class=\&quot;rackful_object_#{key.to_s.escape_html}\&quot;#{self.xsd_type(value)}&gt;&quot;
</span>      <span class='comment'># self.each_nested value, &amp;block
</span>      <span class='comment'># yield &quot;&lt;/dd&gt;\n&quot;
</span>    <span class='comment'># end
</span>    <span class='comment'># yield '&lt;/dl&gt;'
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Enumerable</span> <span class='rparen'>)</span> <span class='kw'>and</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span> <span class='symbol'>:each_pair</span> <span class='rparen'>)</span> <span class='kw'>and</span>
        <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Path</span> <span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;dl class=&quot;rackful-resources&quot;&gt;</span><span class='tstring_end'>'</span></span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span>
      <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;dt&gt;</span><span class='tstring_end'>'</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/dt&gt;&lt;dd&gt;</span><span class='tstring_end'>'</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/dd&gt;\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/dl&gt;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span> <span class='symbol'>:each_pair</span> <span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;dl class=&quot;rackful-object&quot;&gt;</span><span class='tstring_end'>'</span></span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span>
      <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;dt&gt;</span><span class='tstring_end'>'</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/dt&gt;&lt;dd&gt;</span><span class='tstring_end'>'</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/dd&gt;\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/dl&gt;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Enumerable</span> <span class='rparen'>)</span> <span class='kw'>and</span> <span class='lparen'>(</span> <span class='id identifier rubyid_q'>q</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='rparen'>)</span> <span class='kw'>and</span> <span class='lparen'>(</span>
          <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:keys</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span> <span class='id identifier rubyid_keys'>keys</span> <span class='op'>=</span> <span class='id identifier rubyid_q'>q</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
          <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:keys</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>==</span> <span class='id identifier rubyid_keys'>keys</span> <span class='rbrace'>}</span>
        <span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;table class=&quot;rackful-objects&quot;&gt;&lt;thead&gt;&lt;tr&gt;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span>
      <span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span>
        <span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='op'>|</span>
        <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;th&gt;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span>
        <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_escape_html'>escape_html</span><span class='lparen'>(</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='rparen'>)</span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/th&gt;\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;</span><span class='tstring_end'>'</span></span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span>
      <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='op'>|</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;tr&gt;</span><span class='tstring_end'>'</span></span>
      <span class='id identifier rubyid_h'>h</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span>
        <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
        <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;td class=\&quot;rackful-objects-</span><span class='embexpr_beg'>#{</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_escape_html'>escape_html</span><span class='lparen'>(</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_xsd_type'>xsd_type</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
        <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/td&gt;\n</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/tr&gt;</span><span class='tstring_end'>'</span></span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/tbody&gt;&lt;/table&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Enumerable</span> <span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;ul class=&quot;rackful-array&quot;&gt;</span><span class='tstring_end'>'</span></span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span>
      <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;li</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_xsd_type'>xsd_type</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_each_nested'>each_nested</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/li&gt;\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>yield</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/ul&gt;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Time</span> <span class='rparen'>)</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='period'>.</span><span class='id identifier rubyid_xmlschema'>xmlschema</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>String</span> <span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>==</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>BINARY</span>
    <span class='kw'>yield</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_encode64'>encode64</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_escape_html'>escape_html</span><span class='lparen'>(</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="footer-instance_method">
  
    - (<tt>void</tt>) <strong>footer</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
Look at the source code!
</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gems/rackful-0.1.1/lib/rackful_serializer.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_footer'>footer</span>
  <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;div class=&quot;rackful_powered&quot;&gt;Powered by &lt;a href=&quot;http://github.com/pieterb/Rackful&quot;&gt;Rackful&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="header-instance_method">
  
    - (<tt>void</tt>) <strong>header</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
Look at the source code!
</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gems/rackful-0.1.1/lib/rackful_serializer.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_header'>header</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;title&gt;</span><span class='embexpr_beg'>#{</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_escape_html'>escape_html</span><span class='lparen'>(</span><span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='tstring_content'>&lt;/title&gt;&lt;/head&gt;&lt;body&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="htmlify-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>htmlify</strong>(path) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>
Turns a relative URI (starting with `/`) into a relative path (starting
with `./`)
</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Path.html" title="Rackful::Path (class)">Path</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gems/rackful-0.1.1/lib/rackful_serializer.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_htmlify'>htmlify</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@rackful_bp</span> <span class='op'>||=</span> <span class='const'>Request</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_base_path'>base_path</span> <span class='comment'># caching
</span>  <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='ivar'>@rackful_bp</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>if</span> <span class='ivar'>@rackful_bp</span> <span class='op'>==</span> <span class='id identifier rubyid_path'>path</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>./</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='lbracket'>[</span><span class='id identifier rubyid_length'>length</span> <span class='op'>..</span> <span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="xsd_type-instance_method">
  
    - (<tt>void</tt>) <strong>xsd_type</strong>(v) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>
0.1.0
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gems/rackful-0.1.1/lib/rackful_serializer.rb', line 219</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xsd_type'>xsd_type</span> <span class='id identifier rubyid_v'>v</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_rackful</span>
    <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_to_rackful'>to_rackful</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_v'>v</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> xs:type=&quot;xs:boolean&quot; xs:nil=&quot;true&quot;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Integer</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> xs:type=&quot;xs:integer&quot;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Numeric</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> xs:type=&quot;xs:decimal&quot;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Time</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> xs:type=&quot;xs:dateTime&quot;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>String</span> <span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>==</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>BINARY</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> xs:type=&quot;xs:base64Binary&quot;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>String</span> <span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span> <span class='const'>Path</span> <span class='rparen'>)</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> xs:type=&quot;xs:string&quot;</span><span class='tstring_end'>'</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Oct 12 18:56:36 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.2.1 (ruby-1.9.2).
</div>

  </body>
</html>