
### ----------
### json_spec
require 'json_spec/cucumber'
### ----------


### ----------
### api_steps:
require 'cucumber/formatter/unicode' # Remove this line if you don't want Cucumber Unicode support
###require 'cucumber/api_steps'
### ----------


###require 'logger'
###agent = Mechanize.new { |a| a.log = Logger.new("mech.log") }


require 'httparty'
### to define last_json if you are using something a gem like rest-client or http-party which returns a ‘response’ object then, in the step that makes the call capture the response along these lines
###@last_response = RestClient.post(url, request_body, :content_type => ‘application/json’)
### Then wherever you are maintaining world extensions (usually a file under features\support) add something like the following
module JSONSpecInterface
def last_json
@last_response.body
end
end

World(JSONSpecInterface)


require 'capybara/cucumber'
#require 'cucumber/rails'
if RUBY_VERSION =~ /1.8/
  require 'test/unit/testresult'
  Test::Unit.run = true
end